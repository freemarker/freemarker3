   foo not available here
   set in loop
   foo not available here
   set in loop
---------
set in namespace
---------

   set in macro
   -----
   set in body
   set in macro
------
set in namespace
   
